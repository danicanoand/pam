<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE pam_mount SYSTEM "pam_mount.conf.xml.dtd">
<!--
  See pam_mount.conf(5) for a description.
-->

<pam_mount>

    <!-- debug should come before everything else,
    since this file is still processed in a single pass
    from top-to-bottom -->

<debug enable="0" />

    <!-- Volume definitions -->

    <volume enable="1" remove="true"
      user="*" 
      fstype="tmpfs" 
      mountpoint="~/temporal" 
      options="size=100M,uid=%(USER),mode=0775" 
    />

      <!--
      <volume user="*" fstype="nfs4" server="gandhi.informatica.escoladeltreball.org" path="/home/groups/inf" mountpoint="/home/groups/inf/" options="sec=krb5" />
      <volume user="*" fstype="cifs" server="server.escoladeltreball.org" path="%(USER)" mountpoint="/home/users/inf/%(GROUP)/%(USER)/%(USER)" />
      <volume user="*" fstype="cifs" server="server" path="%(USER)" mountpoint="/home/users/elo/%(GROUP)/%(USER)" options="sec=ntlm,nodev,nosuid" />
      <volume user="*" fstype="cifs" server="server" path="pub-%(GROUP)" mountpoint="/home/groups/%(GROUP)/%(GROUP)" options="sec=ntlm,nodev,nosuid" />
      <volume user="*" fstype="cifs" server="server" path="pub-eli" mountpoint="/home/groups/eli/eli" options="sec=ntlm,nodev,nosuid" />
      -->

      <!--
      <volume user="*" fstype="cifs" server="server" path="%(USER)" mountpoint="/home/users/inf/%(GROUP)/%(USER)/%(USER)" />
      -->

      <!--
       <volume user="*" fstype="cifs" server="server" path="%(USER)" mountpoint="/home/users/elo/%(GROUP)/%(USER)/%(USER)" />
      -->

      <!--
      <volume user="*" fstype="nfs" server="server" path="/home/users/inf/%(GROUP)/%(USER)" mountpoint="/home/users/inf/%(GROUP)/%(USER)/%(USER)" />
      -->


      <!--
           <volume user="*" fstype="cifs" server="server" path="pub-%(GROUP)" mountpoint="/home/groups/%(GROUP)/%(GROUP)" />
           <volume user="*" fstype="cifs" server="server" path="pub-eli" mountpoint="/home/groups/eli/eli" options="sec=ntlm,nodev,nosuid" />
      -->




    <!-- pam_mount parameters: General tunables -->

<!--
<luserconf name=".pam_mount.conf.xml" />
-->

<!-- Note that commenting out mntoptions will give you the defaults.
     You will need to explicitly initialize it with the empty string
     to reset the defaults to nothing. -->
<mntoptions allow="nosuid,nodev,loop,encryption,fsck,nonempty,allow_root,allow_other" />
<!--
<mntoptions deny="suid,dev" />
<mntoptions allow="*" />
<mntoptions deny="*" />
-->
<mntoptions require="nosuid,nodev" />

<!-- requires ofl from hxtools to be present -->
<logout wait="0" hup="0" term="0" kill="0" />

    <!-- pam_mount parameters: Volume-related -->

<mkmountpoint enable="1" remove="true" />

</pam_mount>
